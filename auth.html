<!DOCTYPE html>
<html><head><meta charset="utf-8"><title>Auth</title></head>
<body>
<script src="https://alcdn.msauth.net/browser/2.37.0/js/msal-browser.min.js"></script>
<script>
  (function(){
    var instance = new msal.PublicClientApplication({
      auth: {
        clientId: '827656f8-3a21-4d69-b6e5-c35e2ec2fb71',
        authority: 'https://login.microsoftonline.com/97d84781-b85c-4034-a0d0-588e7b442e45',
        redirectUri: 'https://abirrahat.github.io/wolcas-webapp/auth',
        navigateToLoginRequestUrl: false
      },
      cache: { cacheLocation: 'localStorage', storeAuthStateInCookie: true }
    });
    instance.handleRedirectPromise()
      .then(function(){ try{ if(window.opener){ window.opener.postMessage({ type:'WOLCAS_AUTH_DONE' }, '*'); } }catch(e){} window.close(); })
      .catch(function(err){ console.error('Auth callback error', err); window.close(); });
  })();
</script>
</body></html>
